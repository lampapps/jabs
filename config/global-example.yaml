# --- Default Backup Job Configuration ---

# Local configuration for all backups jobs unless overridden in job config
destination: "/path/to/directory"      # must be local or mapped drive
keep_sets: 5  # Number of backup sets to retain (older sets will be deleted automatically)
max_tarball_size: 2048  # Maximum size of each tarball in MB (e.g., 1024 MB = 1 GB)
use_common_exclude: true   # true | false to exclude patterns from config/common_exclude.yaml

# AWS S3 settings for cloud backups unless overridden in job config
# The `aws` section is required only if you plan to sync backups to AWS S3.
# Bucket name rules:
# - Must be globally unique across all AWS accounts.
# - Must be between 3 and 63 characters long.
# - Can contain lowercase letters, numbers, and hyphens.
# - Must start and end with a letter or number.
# - Cannot contain uppercase letters or underscores.
# - Cannot be formatted as an IP address (e.g., 192.168.5.4).
aws:
  enabled: false  # Default, false can be overridden in job config or by CLI
  region: "us-east-1"  # AWS region (overrides profile region if specified)
  bucket: "example-jabs"  # S3 bucket name (required for cloud backups)
  storage_class: "STANDARD"  # Options: STANDARD, STANDARD_IA, ONEZONE_IA, INTELLIGENT_TIERING, GLACIER, DEEP_ARCHIVE, etc.

# Encryption settings for backups unless overridden in job config
encryption:
  enabled: true  # true | false
  method: gpg  # Only 'gpg' supported for now
  passphrase_env: JABS_ENCRYPT_PASSPHRASE  # Name of env var holding passphrase


# --- Dashboard Configuration ---

# Configure the drives and buckets that appear in the dashboard
drives:
  - path: "/"
    label: "Root"
# - path: "/path/to/directory"
#   label: "Backup Drive"

s3_buckets:
  - bucket: "example-jabs"
    label: "JABS"
  - bucket: "example-backup"
    label: "Backup"

# --- Email Notification Configuration ---

# Configure email notifications for backup events
email:
  smtp_server: "smtp.zoho.com"         # SMTP server (change if using another provider)
  smtp_port: 587                       # 587 for TLS (Gmail and most providers)
  to_addrs:                            # List of recipient email addresses, set credentials for smtp server in Security menu
    - "example1@gmail.com"
#   - "example2@gmail.com"
  use_tls: true                        # Use TLS for SMTP connection (recommended for Gmail)
  digest_email_schedule: "0 8 * * *"   # Every day at 8:00 AM (example)

  # Configure which events trigger email notifications
  notify_on:
    error:
      enabled: true        # true  |  false
      mode: immediate      # sends immediately and will queue for digest email
    backup_complete:
      enabled: true
      mode: digest         # queue for digest email only
    restore_complete:
      enabled: true
      mode: digest

