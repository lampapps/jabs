# Copy and rename the file to create a new job.
# One file per job is required.
# The configuration file must be in YAML format and follow the structure below.
# The file should be named according to the job name (e.g., "my_job.yaml").

# Job-specific settings
job_name: "My Documents"  # The name of the backup job (used for logging and organization)

# Ensure the `source` directory exists and contains the files you want to back up.
source: "/home/user/Documents"  # The source directory to back up

# Backup retention and size settings
keep_sets: 2  # Number of backup sets to retain (older sets will be deleted automatically)
max_tarball_size: 1024  # Maximum size of each tarball in MB (e.g., 1024 MB = 1 GB)

# GPG symmetric encryption for tarballs
encryption:
  enabled: true         # Default, false can be overridden by CLI
  method: gpg            # Only 'gpg' supported for now
  passphrase_env: JABS_ENCRYPT_PASSPHRASE  # Name of env var holding passphrase

# Use the `exclude` list to specify files or directories to skip during the backup process.
exclude:
  # General patterns
  - "*.tmp"              # Exclude temporary files
  - "*.bak"              # Exclude backup files (e.g., file.bak)
  - "*.swp"              # Exclude swap files (e.g., Vim swap files)
  - "*.lock"             # Exclude lock files (e.g., file.lock) 
  - "*.log"              # Exclude log files
  - "*.iso"              # Exclude ISO disk images
  - "*.tar.gz"           # Exclude tarball archives
  - "*.tar"              # Exclude uncompressed tarball archives
  
  # Directory-specific exclusions
  - "cache/"             # Exclude cache directories
  - "node_modules/"      # Exclude Node.js dependencies
  - "venv/"              # Exclude Python virtual environments
  - "build/"             # Exclude build directories (e.g., for compiled code)
  
  # Hidden files and directories
  - ".*"                 # Exclude all hidden files and directories (e.g., .git, .env)
  - ".DS_Store"          # Exclude macOS-specific metadata files
    
  # Specific files or directories
  - "README.md"          # Exclude a specific file
  - "docs/"              # Exclude a specific directory
  
  # Advanced patterns
  - "__pycache__/"       # Exclude all `__pycache__` directories at any level
  - "**/__pycache__/"    # Exclude all `__pycache__` directories recursively
  - "**/__pycache__/**"  # Exclude all files and subdirectories within any `__pycache__` directory
  - "**/*.class"         # Exclude Java compiled class files recursively

# More advanced examples for `exclude`:
#   - "**/temp/**": Excludes all directories named `temp` at any level of the directory tree.
#   - "**/*.log": Excludes all `.log` files recursively in all subdirectories.
#   - "**/*.tmp": Excludes all `.tmp` files recursively in all subdirectories.
#   - "**/backup_*/": Excludes all directories starting with `backup_` at any level.
#   - "**/202*/": Excludes all directories with names starting with `202` (e.g., year-based directories).
#   - "**/*.{jpg,png,gif}": Excludes all image files with `.jpg`, `.png`, or `.gif` extensions.
#   - "**/!(important).txt": Excludes all `.txt` files except those named `important.txt` (requires extended globbing).
#   - "**/logs/**/debug.log": Excludes `debug.log` files in any `logs` subdirectory.
#   - "**/!(keep_this_dir)/": Excludes all directories except `keep_this_dir` (requires extended globbing).

# Scheduling - Define when and how backups should run automatically. You can more than 2 schedules.
# Cron Syntax:
  #        .---------------- minute (0 - 59)
  #        | .------------- hour (0 - 23)
  #        | | .---------- day of month (1 - 31)
  #        | | | .------- month (1 - 12) OR jan,feb,mar,apr...
  #        | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
  #        | | | | |                          Both 0 and 7 represent Sunday in many cron versions for historical reasons. 0 is standard.
  #        * * * * * 
schedules:
  - cron: "0 2 * * 7"    # Runs at 2:00 AM, every Sunday
    type: "full"         # full or diff
    sync: true           # Sync to S3 after backup, true or false
    enabled: false       # Scheduled to run, true or false

  - cron: "0 2 * * 1-6"  # Runs at 2:00 AM, Monday to Saturday
    type: "diff"      
    sync: false        
    enabled: false 

# #######################################################################################################################
# The below settings are set globally for all jobs. You may uncomment them to override global defaults for this job only.

# destination: "/path/to/backup/folder"  # The destination directory for local backups

# aws:
#  profile: "default"  # AWS CLI profile to use (default if not specified)
#  region: "us-east-1"  # AWS region (overrides profile region if specified)
#  bucket: "my-bucket"  # S3 bucket name (required for cloud backups)
